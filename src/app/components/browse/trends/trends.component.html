<div class="space-y-6 md:space-y-8 animate-fade-in pb-24" appInfiniteScroll (scrolled)="loadMore()">
    <header class="mb-4 md:mb-8">
        <h2
            class="text-2xl md:text-3xl font-bold bg-gradient-to-r from-emerald-400 to-cyan-500 bg-clip-text text-transparent">
            Tendencias Globales
        </h2>
        <p class="text-zinc-400 mt-1 md:mt-2 text-sm md:text-base">Lo mÃ¡s escuchado en este momento.</p>
    </header>

    <!-- Top 1-5 -->
    <div class="grid gap-2 md:gap-4">
        <div *ngIf="loading()" class="flex justify-center py-12">
            <div class="animate-spin rounded-full h-10 w-10 md:h-12 md:w-12 border-t-2 border-b-2 border-emerald-500">
            </div>
        </div>

        <div *ngFor="let song of trendingSongs().slice(0, 5); let i = index" (click)="playSong(song)"
            class="flex items-center gap-3 md:gap-4 p-2 md:p-3 rounded-lg md:rounded-xl bg-zinc-900/50 hover:bg-zinc-800 transition-colors group cursor-pointer border border-transparent hover:border-zinc-700">
            <span
                class="text-xl md:text-2xl font-bold text-zinc-700 w-6 md:w-8 text-center group-hover:text-emerald-500 transition-colors">{{i
                + 1}}</span>
            <div class="w-12 h-12 md:w-14 md:h-14 bg-zinc-800 rounded-lg flex-shrink-0 shadow-lg overflow-hidden">
                <img [src]="song.img" alt="Cover" loading="lazy" class="w-full h-full object-cover">
            </div>
            <div class="flex-1 min-w-0">
                <h4 class="font-bold text-sm md:text-lg truncate group-hover:text-emerald-400 transition-colors">
                    {{song.title}}</h4>
                <p class="text-xs md:text-sm text-zinc-500 truncate">{{song.artist}}</p>
            </div>
            <div
                class="text-emerald-500 text-[10px] md:text-sm font-medium px-2 py-0.5 md:px-3 md:py-1 bg-emerald-500/10 rounded-full flex items-center gap-1">
                <i class='bx bx-trending-up'></i> <span class="hidden md:inline">Top</span>
            </div>
        </div>
    </div>

    <app-ad-banner adType="Banner Principal" class="my-4 md:my-0"></app-ad-banner>

    <!-- Top 6+ (Infinite Scroll) -->
    <div class="grid gap-2 md:gap-4">
        <div *ngFor="let song of trendingSongs().slice(5); let i = index" (click)="playSong(song)"
            class="flex items-center gap-3 md:gap-4 p-2 md:p-3 rounded-lg md:rounded-xl bg-zinc-900/50 hover:bg-zinc-800 transition-colors group cursor-pointer border border-transparent hover:border-zinc-700">
            <span
                class="text-lg md:text-2xl font-bold text-zinc-700 w-6 md:w-8 text-center group-hover:text-emerald-500 transition-colors">{{i
                + 6}}</span>
            <div class="w-10 h-10 md:w-12 md:h-12 bg-zinc-800 rounded-md flex-shrink-0 overflow-hidden">
                <img [src]="song.img" alt="Cover" loading="lazy" class="w-full h-full object-cover">
            </div>
            <div class="flex-1 min-w-0">
                <h4 class="font-medium text-sm md:text-base truncate group-hover:text-zinc-300 transition-colors">
                    {{song.title}}</h4>
                <p class="text-xs md:text-sm text-zinc-500 truncate">{{song.artist}}</p>
            </div>
        </div>
    </div>

    <!-- Loading More Indicator -->
    <div *ngIf="loadingMore()" class="flex justify-center py-8">
        <div class="flex items-center gap-3 text-emerald-400">
            <div class="animate-spin rounded-full h-6 w-6 border-t-2 border-b-2 border-emerald-500"></div>
            <span class="text-sm font-medium">Cargando mÃ¡s...</span>
        </div>
    </div>

    <!-- End of List Message -->
    <div *ngIf="!hasMore && !loading()" class="text-center py-8">
        <p class="text-zinc-500 text-sm">Has llegado al final de las tendencias ðŸŽµ</p>
    </div>
</div>